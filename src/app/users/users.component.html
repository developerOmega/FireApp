
<form class="form" action="/" method="POST" >

  <div class="field left">
    <label for="name"> Nombre </label>
    <input type="text" id="name" name="name" [(ngModel)]="user.name" >
  </div>

  <div class="field left">
    <label for="date"> Fecha </label>
    <input type="date" id="date" name="date" [(ngModel)]="user.datetime" >
  </div>

  <div class="field left">
    <label for="tell"> Telefono </label>
    <input type="number" id="tell" name="tell" [(ngModel)]="user.tell" >
  </div>

  <div class="field right">
    <label for="email"> Emails </label>
    <input type="email" id="email" name="email" [(ngModel)]="email" (change)="addEmail()" >

    <div class="items">
      <div class="item" *ngFor="let email of user.emails"> 
        <p> {{ email }} </p> 
      </div>
    </div>
  </div>

  <button 
    class="btn all" 
    type="button"
    (click)="addUser()" >  
    Agregar 
  </button>

  <button 
    class="btn" 
    type="button" 
    (click)="updateUser()" >  
    Guardar 
  </button>
  
  <button 
    class="btn" 
    type="button" 
    (click)="cleanUser()" >  
    Nuevo 
  </button>

</form>

<table class="table">
  <thead>
    <tr>
      <th> Nombre </th>
      <th> Fecha </th>
      <th> Telefono </th>
      <th> Emails </th>
      <th> No. Emails </th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let data of users" >
      <td> {{ data.name }} </td>
      <td> {{ data.datetime }} </td>
      <td> {{ data.tell }} </td>
      <td>
        <div class="items" *ngFor="let email of data.emails" >
          <p>{{ email }}</p>
        </div> 
      </td>
      <td> {{ data.no_emails }} </td>
      <td>
        <button class="btn" type="button" (click)="selectUser(data)" > Editar </button>
        <button class="btn" type="button" (click)="deleteUser(data)"> Eliminar </button>
      </td>
    </tr>
  </tbody>
</table>
